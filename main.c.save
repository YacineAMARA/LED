#include <stdint.h>

    // Définition des registres (STM32F446RE)
    #define RCC_AHB1ENR   (*(volatile uint32_t*)0x40023830)
    #define GPIOA_MODER   (*(volatile uint32_t*)0x40020000)
    #define GPIOA_ODR     (*(volatile uint32_t*)0x40020014)

int main(void)
{
	// Enable Clock GPIOA 	(RCC->AHB1ENR)
	RCC_AHB1ENR |= (1 << 0);

	//pour dire que  PA5 Output	(GPIOA->MODER)
	 GPIOA_MODER &= ~(3 << (5 * 2));   // Effacer les bits
   	 GPIOA_MODER |=  (1 << (5 * 2));   // Mettre 01 = output

	/* while(1)
    {
        // Allumer LED (mettre PA5 à 1)
        GPIOA_ODR |= (1 << 5);
        for(uint32_t i = 0; i < 100000; i++);

        // Éteindre LED (mettre PA5 à 0)
        GPIOA_ODR &= ~(1 << 5);
        for(uint32_t i = 0; i < 100000; i++);
    }*/

	while(1){
		
		// Toggle PA5		(GPIOA->ODR)	
		 GPIOA_ODR ^= (1<<5);
	}
}
